## План автоматизации тестирования сценария покупки тура
______
Валидные данные карты:
- Номер карты - 16 цифр
- Срок действия карты - месяц, год, дата не ранее текущей даты
- Фамилия и имя владельца - латинскими буквами
- Код cvc - 3 цифры

**Номера карт:**
 - Валидной карты : **4444 4444 4444 4441 статус** карты "_APPROVED_"
 - Не валидной карты: **4444 4444 4444 4442** статус карты "_DECLINED_"
***

### Перечень автоматизируемых сценариев:
______

1. **Успешная покупка тура по карте:**
- на странице сервиса нажать кнопку "Купить".
- ввести валидные данные одобренной карты.
- нажать кнопку "Продолжить"

*Ожидаемый результат*: Появляются данные в базе данных о том, что успешно совершена покупка. Пользователь видит сообщение об успешной покупке. Данные карты не сохраняются.

2. Успешная покупка тура в кредит:
- на странице сервиса нажать кнопку "Купить в кредит".
- ввести валидные данные одобренной карты.
- нажать кнопку "Продолжить".

*Ожидаемый результат*: Появляются данные в базе данных о том, что успешно совершена покупка. Пользователь видит сообщение об успешной покупке. Данные карты не сохраняются.

3. Попытка покупки тура по карте с недостаточным балансом:
- на странице сервиса нажать кнопку "Купить".
- ввести данные отклоненной карты.
- нажать кнопку "Продолжить".

*Ожидаемый результат*: Покупка не совершается. Появляются данные в базе данных о том, что покупка отклонена. Данные карты не сохраняются. Пользователь видит сообщение об ошибке.

4. Попытка покупки тура в кредит по карте с недостаточным балансом:
- на странице сервиса нажать кнопку "Купить в кредит".
- ввести данные отклоненной карты.
- нажать кнопку "Продолжить".

*Ожидаемый результат*: Покупка не совершается. Появляются данные в базе данных о том, что покупка отклонена. Данные карты не сохраняются. Пользователь видит сообщение об ошибке.

5. Попытка покупки тура с невалидными данными:
- на странице сервиса нажать кнопку "Купить".
- ввести невалидные данные:
  - номер карты из 4 цифр; 
  - ввод букв в поле номера карты;
  - 13 месяц;
  - прошедший год;
  - имя владельца карты кириллицей;
  - ввод цифр в поле "Владедец";
  - ввод спецсимволов в поле "Владелец";
  - ввод 1 цифры в поле "cvc/cvv".
  - нажать кнопку "Продолжить".

*Ожидаемый результат*: Покупка не совершается. Пользователь видит сообщение: "Неверный формат данных".

6. Попытка покупки тура в кредит с невалидными данными:
- на странице сервиса нажать кнопку "купить в кредит".
- ввести невалидные данные:
1. номер карты из 5 цифр;
2. ввод букв в поле номера карты;
3. 15 месяц;
4. прошедший год;
5. имя владельца карты кириллицей;
6. ввод цифр в поле "Владедец";
7. ввод спецсимволов в поле "Владелец";
8. ввод 2 цифры в поле "cvc/cvv".
9. нажать кнопку "Продолжить".

*Ожидаемый результат*: Покупка не совершается. Пользователь видит сообщение: "Неверный формат данных".

7. Попытка покупки тура с незаполненной формой:
- на странице сервиса нажать кнопку "Купить".
- оставить форму незаполненной и нажать кнопку "Продолжить".

*Ожидаемый результат*: Покупка не совершается. Пользователь видит сообщение о необходимости заполнять поля.

8. Попытка покупки тура в кредит с незаполненной формой:
- на странице сервиса нажать кнопку "Купить в кредит".
- оставить форму незаполненной и нажать кнопку "Продолжить".

*Ожидаемый результат*: Покупка не совершается. Пользователь видит сообщение о необходимости заполнить поля.

9. Проверка поведения системы при падении базы данных.
10. Проверка поведения системы при отсутствии связи с сервером.

### Перечень используемых инструментов с обоснованием выбора:
______

- **`Gradle`** - система автоматический сборки, которую используют для упрощения работы с Java;
- **`JUnit5`** - инфраструктура модульного тестирования для Java, оснащенная множеством функций, включая вложенные тесты, параметризованные тесты, новые API расширения или поддержку Java;
- **`Selenide`** - для автоматизированного тестирования веб-приложений на основе Selenium WebDriver, дающий такие преимущества, как изящный API, поддержка Ajax для стабильных тестов, мощные селекторы, простая конфигурация;
- **`REST-assured`** - Java-библиотека для автоматизации тестирования REST-API;
- **`Allure`** - для генерации отчетов.

### Перечень и описание возможных рисков при автоматизаци:
______

- отсутствие легконаходимых локаторов для запросов, таких как id, test_id, data-test-id и др. увеличит время написания тестов;
- недостаточная можность сервера, он может не выдержать дополнительных нагрузок;
- без допуска к базе данных и API сайта невозможно проверить, какие данные уходят на сервер;
- отсутствие квалифицированных специалистов по автотестированию.

### Интервальная оценка с учетом риска в часах
______

С учетом рисков для написания автотестов может понадобится около 100 часов.

### План сдачи работ
______

Автотесты и результаты их прогона будут готовы к 11.11.2023.